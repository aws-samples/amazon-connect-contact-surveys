# Component Diagram

```
┌───────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                                                                                       │
│                                      Amazon Connect Instance                                          │
│                                                                                                       │
│  ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────────────┐    │
│  │                 │    │                 │    │                 │    │                         │    │
│  │  Contact Flow   │    │  Contact Flow   │    │  Contact Flow   │    │  Contact Flow Module   │    │
│  │                 │    │                 │    │                 │    │    (Survey Flow)       │    │
│  └────────┬────────┘    └────────┬────────┘    └────────┬────────┘    └───────────┬───────────┘    │
│           │                      │                      │                          │                │
└───────────┼──────────────────────┼──────────────────────┼──────────────────────────┼────────────────┘
            │                      │                      │                          │
            │                      │                      │                          │
            │                      │                      │                          │
┌───────────┼──────────────────────┼──────────────────────┼──────────────────────────┼────────────────┐
│           │                      │                      │                          │                │
│           │                      │                      │                          ▼                │
│           │                      │                      │              ┌─────────────────────────┐  │
│           │                      │                      │              │                         │  │
│           │                      │                      │              │   Amazon Lex Bot        │  │
│           │                      │                      │              │   (Survey Responses)    │  │
│           │                      │                      │              │                         │  │
│           │                      │                      │              └─────────────────────────┘  │
│           │                      │                      │                                           │
└───────────┼──────────────────────┼──────────────────────┼───────────────────────────────────────────┘
            │                      │                      │
            │                      │                      │
            ▼                      ▼                      ▼
┌─────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                                                                                     │
│                                       AWS Lambda Functions                                          │
│                                                                                                     │
│  ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐          │
│  │                 │    │                 │    │                 │    │                 │          │
│  │ GetSurveyConfig │    │ WriteSurvey     │    │ ProcessSurvey   │    │ SurveyUtils     │          │
│  │                 │    │ Results         │    │ Flags           │    │                 │          │
│  └────────┬────────┘    └────────┬────────┘    └────────┬────────┘    └────────┬────────┘          │
│           │                      │                      │                       │                   │
│           │                      │                      │                       │                   │
│           ▼                      ▼                      ▼                       │                   │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │                   │
│  │                                                                         │   │                   │
│  │                          DynamoDB Tables                                │   │                   │
│  │                                                                         │   │                   │
│  │  ┌─────────────────────┐            ┌─────────────────────────┐        │   │                   │
│  │  │                     │            │                         │        │   │                   │
│  │  │  SurveysConfigTable │◄───────────┤    SurveysResultsTable  │        │   │                   │
│  │  │                     │            │                         │        │   │                   │
│  │  └─────────────────────┘            └─────────────────────────┘        │   │                   │
│  │                                                                         │   │                   │
│  └─────────────────────────────────────────────────────────────────────────┘   │                   │
│                                                                                 │                   │
└─────────────────────────────────────────────────────────────────────────────────┼───────────────────┘
                                                                                  │
                                                                                  │
┌─────────────────────────────────────────────────────────────────────────────────┼───────────────────┐
│                                                                                 │                   │
│  ┌─────────────────────────────────────────────────────────────────────┐        │                   │
│  │                                                                     │        │                   │
│  │                       API Gateway                                   │        │                   │
│  │                                                                     │        │                   │
│  │  ┌─────────────────────┐            ┌─────────────────────────┐     │        │                   │
│  │  │                     │            │                         │     │        │                   │
│  │  │  /surveys endpoint  │            │    /results endpoint    │     │        │                   │
│  │  │                     │            │                         │     │        │                   │
│  │  └──────────┬──────────┘            └────────────┬────────────┘     │        │                   │
│  │             │                                    │                  │        │                   │
│  └─────────────┼────────────────────────────────────┼──────────────────┘        │                   │
│                │                                    │                           │                   │
│                │                                    │                           │                   │
│                │                                    │                           │                   │
│                ▼                                    ▼                           │                   │
│  ┌─────────────────────────────────────────────────────────────────┐            │                   │
│  │                                                                 │            │                   │
│  │                    Lambda API Function                          │            │                   │
│  │                                                                 │            │                   │
│  └─────────────────────────────────────────────────────────────────┘            │                   │
│                                                                                 │                   │
└─────────────────────────────────────────────────────────────────────────────────┼───────────────────┘
                                                                                  │
                                                                                  │
┌─────────────────────────────────────────────────────────────────────────────────┼───────────────────┐
│                                                                                 │                   │
│  ┌─────────────────────────────────────────────────────────────────────┐        │                   │
│  │                                                                     │        │                   │
│  │                       CloudFront Distribution                       │◄───────┘                   │
│  │                                                                     │                            │
│  └────────────────────────────────┬────────────────────────────────────┘                            │
│                                   │                                                                 │
│                                   │                                                                 │
│                                   ▼                                                                 │
│  ┌─────────────────────────────────────────────────────────────────────┐                            │
│  │                                                                     │                            │
│  │                       S3 Frontend Bucket                            │                            │
│  │                                                                     │                            │
│  └─────────────────────────────────────────────────────────────────────┘                            │
│                                                                                                     │
└─────────────────────────────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                                                                                     │
│                                       Amazon Cognito                                                │
│                                                                                                     │
│  ┌─────────────────────┐    ┌─────────────────┐                                                     │
│  │                     │    │                 │                                                     │
│  │  User Pool          │    │  User Pool      │                                                     │
│  │                     │    │  Client         │                                                     │
│  └─────────────────────┘    └─────────────────┘                                                     │
│                                                                                                     │
└─────────────────────────────────────────────────────────────────────────────────────────────────────┘
```
